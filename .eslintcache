[{"C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\index.js":"1","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\App.js":"2","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\reportWebVitals.js":"3","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viajes.js":"4","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viajes_curso.js":"5","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viaje.js":"6","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\ViajesApi.js":"7","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\Alert.js":"8","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viaje_curso.js":"9"},{"size":517,"mtime":1609629598639,"results":"10","hashOfConfig":"11"},{"size":404,"mtime":1609634342453,"results":"12","hashOfConfig":"11"},{"size":375,"mtime":1609629598640,"results":"13","hashOfConfig":"11"},{"size":1348,"mtime":1609637445546,"results":"14","hashOfConfig":"11"},{"size":2104,"mtime":1609637848119,"results":"15","hashOfConfig":"11"},{"size":330,"mtime":1609629598640,"results":"16","hashOfConfig":"11"},{"size":1731,"mtime":1609635905339,"results":"17","hashOfConfig":"11"},{"size":521,"mtime":1609629598636,"results":"18","hashOfConfig":"11"},{"size":624,"mtime":1609638464147,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1xf9ize",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\index.js",[],["43","44"],"C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\App.js",["45"],"import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';  //estilo para los componentes\r\nimport './App.css';\r\nimport Viajes from './viajes.js';\r\nimport Viajes_curso from './viajes_curso';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div>\r\n      <h1>Viajes en Curso</h1>\r\n      <Viajes_curso/>\r\n      <h1>Historial de viajes</h1>\r\n      <Viajes/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\reportWebVitals.js",[],"C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viajes.js",[],"C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viajes_curso.js",["46"],"import React from 'react';\r\nimport Viaje_curso from './viaje_curso.js';\r\nimport ViajesApi from './ViajesApi.js';\r\n\r\n\r\nclass Viajes_curso extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            errorInfo: null,\r\n            viajes_curso: []\r\n        };\r\n        this.handleFinalizarviaje = this.handleFinalizarviaje.bind(this);\r\n    }\r\n\r\n    componentDidMount() {  //react va a llamar a este mÃ©todo cuando el componente se instancia\r\n        ViajesApi.getOnGoingTravels()\r\n            .then(\r\n                (result) => {\r\n                    this.setState({\r\n                        viajes_curso: result\r\n                    })\r\n                },\r\n                (error) => {\r\n                    this.setState({\r\n                        errorInfo: \"Problem with connection to server\"\r\n                    })\r\n                }\r\n            )\r\n    }\r\n\r\n    handleCloseError() {\r\n        this.setState({\r\n            errorInfo: null\r\n        });\r\n    }\r\n\r\n    handleFinalizarviaje(){\r\n        this.setState(prevState => ({\r\n            viajes_curso: prevState.viajes_curso.filter((c) => c.estado !== 'EN CURSO')\r\n        }))\r\n        this.state.viajes_curso.map((viaje_curso) =>\r\n        ViajesApi.EndTravel(viaje_curso._id))\r\n    }\r\n    /*handleFinalizarviaje(){\r\n        this.state.viajes_curso.map(this.setState({estado: 'Finalizado'}))\r\n    }*/\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n            <table class=\"table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>id_cliente</th>\r\n                    <th>id_vehiculo</th>\r\n                    <th>estado</th>\r\n                    <th>duracion</th>\r\n\r\n                </tr>\r\n            </thead>\r\n            {this.state.viajes_curso.map((viaje_curso) =>\r\n                <Viaje_curso \r\n                key={viaje_curso.id_vehiculo} \r\n                viaje_curso={viaje_curso} \r\n                FinalizarViaje={this.handleFinalizarviaje}/>\r\n            )}\r\n            </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Viajes_curso; ","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viaje.js",[],"C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\ViajesApi.js",["47"],"\r\nclass ViajesApi{\r\n    static API_BASE_URL = \"/api/v1\";\r\n\r\n    static requestHeaders(){\r\n        const headers = new Headers();\r\n        headers.append('Content-Type', 'application/json');\r\n        return{\r\n            headers\r\n        }\r\n    }\r\n\r\n    static id_cliente = \"234\";\r\n\r\n    static getAllTravels() {\r\n        const headers = this.requestHeaders();\r\n        const request = new Request\r\n            (ViajesApi.API_BASE_URL \r\n            +\"/travels/find?id_cliente=\" \r\n            +this.id_cliente+\"&estado=Finalizado\",\r\n            {\r\n            method: 'GET',\r\n            headers: headers\r\n        });\r\n\r\n        return fetch(request).then(response => {\r\n            return response.json();\r\n        });\r\n    }\r\n\r\n    static getOnGoingTravels() {\r\n        const headers = this.requestHeaders();\r\n        const request = new Request(ViajesApi.API_BASE_URL + \"/travels/find?id_cliente=234&estado=EN%20CURSO\", {\r\n            method: 'GET',\r\n            headers: headers\r\n        });\r\n\r\n        return fetch(request).then(response => {\r\n            return response.json();\r\n        });\r\n    }   \r\n\r\n    static EndTravel(_id) {\r\n        //const data = {'estado': 'Finalizado'}\r\n        const headers = this.requestHeaders();\r\n        const request = new Request(ViajesApi.API_BASE_URL + \"/travels/\" + _id, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n                },\r\n            //body: data,\r\n            body: JSON.stringify({'estado': 'Finalizado'})\r\n        });\r\n        return fetch(request).then(response => {\r\n            return response.json();\r\n        });\r\n    }   \r\n}\r\n\r\nexport default ViajesApi;","C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\Alert.js",[],["48","49"],"C:\\Users\\javi_\\Desktop\\Front Back\\frontend-viajes\\src\\viaje_curso.js",[],{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":12,"column":7,"nodeType":"56","endLine":12,"endColumn":22},{"ruleId":"54","severity":1,"message":"57","line":63,"column":17,"nodeType":"56","endLine":66,"endColumn":61},{"ruleId":"58","severity":1,"message":"59","line":45,"column":15,"nodeType":"60","messageId":"61","endLine":45,"endColumn":22},{"ruleId":"50","replacedBy":"62"},{"ruleId":"52","replacedBy":"63"},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"react/jsx-pascal-case","Imported JSX component Viajes_curso must be in PascalCase or SCREAMING_SNAKE_CASE","JSXOpeningElement","Imported JSX component Viaje_curso must be in PascalCase or SCREAMING_SNAKE_CASE","no-unused-vars","'headers' is assigned a value but never used.","Identifier","unusedVar",["64"],["65"],"no-global-assign","no-unsafe-negation"]